{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap e4c7cd7493960be4fe4f","webpack:///./index.js","webpack:///./src/Game.js","webpack:///./src/Keyboard.js","webpack:///./src/SpriteLoader.js","webpack:///./src/Map.js","webpack:///./src/Character.js"],"names":[],"mappings":"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","file":"./dist/bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"es6Boilerplate\"] = factory();\n\telse\n\t\troot[\"es6Boilerplate\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e4c7cd7493960be4fe4f","module.exports = require('./src/Game');\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./index.js","import Keyboard from './Keyboard';\nimport SpriteLoader from './SpriteLoader';\nimport Map from './Map';\nimport Character from './Character';\n\nclass Game {\n    constructor() {\n        this.setup_canvas();\n        this.setup_variables();\n        this.setup_keyboard();\n        this.bind_stop();\n    }\n\n    init() {\n        this.setup_sprites()\n            .then(() => {\n                this.setup_map();\n                this.setup_character();\n                this.start_loop();\n            });\n    }\n\n    setup_canvas() {\n        this.canvas = document.getElementById('canvas');\n        this.canvas.width = 720;\n        this.canvas.height = 480;\n        this.ctx = canvas.getContext('2d');\n    }\n\n    start_loop() {\n        this.game_loop = setInterval(this.draw.bind(this), this.o.frameRate);\n    }\n\n    draw() {\n        this.ctx.clearRect(0, 0, this.o.canvas_width, this.o.canvas_height);\n        this.map.draw();\n        this.character.draw();\n    }\n\n    setup_sprites() {\n        this.spl = new SpriteLoader(this.ctx);\n        return this.spl.load();\n    }\n\n    setup_keyboard() {\n        this.keyboard = new Keyboard();\n    }\n\n    setup_map() {\n        this.map = new Map(this.ctx, this.spl);\n    }\n\n    setup_character() {\n        this.character = new Character(this.spl);\n    }\n    \n    setup_variables() {\n        this.o = {\n            canvas_height: this.canvas.height,\n            canvas_width: this.canvas.width,\n            frameRate: 1000/8,\n            frame: 0\n        }\n    }\n\n    bind_stop() {\n        document.getElementById('stop').addEventListener('click', () => {\n            clearInterval(this.game_loop);\n        });\n    }\n}\n\nlet game = new Game();\ngame.init();\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./src/Game.js","export default class Keyboard {\n    constructor() {\n        this.setup_keymap();\n        document.addEventListener('keydown', this.on_keydown.bind(this), false);\n        document.addEventListener('keyup', this.on_keyup.bind(this), false);\n    }\n\n    setup_keymap() {\n        this.key = {\n            39: 'right',\n            37: 'left',\n            38: 'up',\n            40: 'down',\n            70: 'f'\n        }\n    }\n\n    on_keydown(e) {\n        var key = this.key[e.keyCode];\n        if(!key) return;\n        this[key + '_pressed'] = true;\n    }\n\n    on_keyup(e) {\n        var key = this.key[e.keyCode];\n        if(!key) return;\n        this[key + '_pressed'] = false;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./src/Keyboard.js","export default class SpriteLoader {\n\n    constructor(ctx) {\n        this.ctx = ctx;\n    }\n\n    setup_images() {\n        const images = {\n            'cave': 'assets/cave.png',\n            'overworld': 'assets/Overworld.png',\n            'warrior': 'assets/character.png'\n        };\n        let promises = [];\n        for (let img in images) {\n            this[img] = new Image();\n            this[img].src = images[img];\n\n            const promise = new Promise((resolve, reject) => {\n                this[img].onload = () => {\n                    resolve(img);\n                };\n            });\n            promises.push(promise);\n        }\n\n        return Promise.all(promises);\n    }\n\n    load() {\n        return this.setup_images();\n    }\n\n    draw(sprite, element, canvasX, canvasY, frame = 0) {\n        const meta = this.get_meta(sprite, element, frame);\n        this.ctx.drawImage(this[sprite], meta.x, meta.y, meta.width, meta.height, canvasX * unit, canvasY * unit, meta.width, meta.height);\n        return meta.next_frame;\n    }\n\n    get_meta(sprite, element, frame) {\n        let meta = sprite_json[sprite][element];\n        let x, y, width, height, is_animation = false, next_frame = 0;\n        is_animation = typeof meta[0] !== 'number' && 'length' in meta[0];\n\n        if(is_animation) {\n            meta = meta[frame];\n            next_frame = (frame + 1) % meta.length;\n        }\n\n        meta = meta.map(n => n * unit);\n\n        x = meta[0];\n        y = meta[1];\n        width = meta[2];\n        height = meta[3];\n\n        return { x, y, width, height, is_animation, next_frame };\n    }\n}\n\nconst sprite_json = {\n    overworld: {\n        grass: [0, 0, 1, 1],\n        water_waving: [\n            [0, 1, 1, 1],\n            [1, 1, 1, 1],\n            [2, 1, 1, 1],\n            [3, 1, 1, 1],\n            [0, 2, 1, 1],\n            [1, 2, 1, 1],\n            [2, 2, 1, 1],\n            [3, 2, 1, 1]\n        ]\n    },\n    warrior: {\n        walk_down: [\n            [0, 0, 1, 2],\n            [1, 0, 1, 2],\n            [2, 0, 1, 2],\n            [3, 0, 1, 2],\n        ],\n        walk_right: [\n            [0, 2, 1, 2],\n            [1, 2, 1, 2],\n            [2, 2, 1, 2],\n            [3, 2, 1, 2],\n        ],\n        walk_up: [\n            [0, 4, 1, 2],\n            [1, 4, 1, 2],\n            [2, 4, 1, 2],\n            [3, 4, 1, 2],\n        ],\n        walk_left: [\n            [0, 6, 1, 2],\n            [1, 6, 1, 2],\n            [2, 6, 1, 2],\n            [3, 6, 1, 2],\n        ],\n        attack_down: [\n            [0, 8, 1, 2],\n            [2, 8, 1, 2],\n            [4, 8, 1, 2],\n            [6, 8, 1, 2],\n        ],\n        attack_up: [\n            [0, 10, 1, 2],\n            [2, 10, 1, 2],\n            [4, 10, 1, 2],\n            [6, 10, 1, 2],\n        ],\n        attack_left: [\n            [0, 12, 1, 2],\n            [2, 12, 1, 2],\n            [4, 12, 1, 2],\n            [6, 12, 1, 2],\n        ],\n        attack_right: [\n            [0, 14, 1, 2],\n            [2, 14, 1, 2],\n            [4, 14, 1, 2],\n            [6, 14, 1, 2],\n        ],\n    }\n};\n\nconst unit = 16;\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./src/SpriteLoader.js","export default class Map {\n    constructor(ctx, spl) {\n        this.spl = spl;\n    }\n\n    draw() {\n        this.spl.draw('overworld', 'grass', 0, 0);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./src/Map.js","\nexport default class Character {\n    constructor(spl) {\n        this.spl = spl;\n        this.next_frame = 0;\n    }\n\n    draw() {\n        this.next_frame = this.spl.draw('warrior', 'walk_left', 44, 10, this.next_frame);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/jshint-loader!./src/Character.js"],"sourceRoot":""}